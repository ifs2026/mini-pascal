# ğŸ“˜ Entrega 4: Gerador de CÃ³digo IntermediÃ¡rio

**Compilador Mini-Pascal - IFS Campus Itabaiana 2025.2**

*Disciplina: LINGUAGENS FORMAIS, AUTÃ”MATOS E COMPILADORES*

---

## ğŸ“… InformaÃ§Ãµes da Entrega

| Item | DescriÃ§Ã£o |
|------|-----------|
| **Data de Entrega** | 04/02/2026 |
| **Objetivo** | Traduzir AST para representaÃ§Ã£o intermediÃ¡ria (Three-Address Code) |
| **Status** | âœ… ConcluÃ­do |

---

## ğŸ“‹ Ãndice

- [Objetivo](#objetivo)
- [Conceito](#conceito)
- [Artefatos Entregues](#artefatos-entregues)
- [CÃ³digo de TrÃªs EndereÃ§os](#cÃ³digo-de-trÃªs-endereÃ§os)
- [Gerador de CÃ³digo Implementado](#gerador-de-cÃ³digo-implementado)
- [OtimizaÃ§Ãµes Aplicadas](#otimizaÃ§Ãµes-aplicadas)
- [Exemplos de TraduÃ§Ã£o](#exemplos-de-traduÃ§Ã£o)
- [Testes Implementados](#testes-implementados)
- [Como Executar](#como-executar)
- [RelatÃ³rios Gerados](#relatÃ³rios-gerados)

---

## ğŸ¯ Objetivo

Esta entrega implementa o **Gerador de CÃ³digo IntermediÃ¡rio**, responsÃ¡vel por:

### Funcionalidades Principais

- âœ… Traduzir a Ãrvore SintÃ¡tica Abstrata (AST) para **CÃ³digo de TrÃªs EndereÃ§os (Three-Address Code - TAC)**.
- âœ… Gerar representaÃ§Ã£o linear e simplificada, **agnÃ³stica de mÃ¡quina**.
- âœ… Preparar o cÃ³digo para otimizaÃ§Ãµes futuras.
- âœ… Criar base para traduÃ§Ã£o final para Assembly/CÃ³digo de MÃ¡quina.

---

## ğŸ’¡ Conceito

### O que Ã© CÃ³digo IntermediÃ¡rio?

> "O cÃ³digo intermediÃ¡rio Ã© uma representaÃ§Ã£o abstrata do programa, situada entre o cÃ³digo-fonte de alto nÃ­vel e o cÃ³digo de mÃ¡quina de baixo nÃ­vel. Ele facilita otimizaÃ§Ãµes e portabilidade entre diferentes arquiteturas."

**Vantagens do CÃ³digo IntermediÃ¡rio:**

| Vantagem | DescriÃ§Ã£o |
|----------|-----------|
| **Portabilidade** | Mesma representaÃ§Ã£o para diferentes arquiteturas (x86, ARM, RISC-V). |
| **OtimizaÃ§Ã£o** | Facilita a anÃ¡lise e transformaÃ§Ãµes de cÃ³digo para ganho de performance. |
| **Simplicidade** | InstruÃ§Ãµes atÃ´micas e lineares, sem estruturas de controle complexas. |
| **Modularidade** | Separa a anÃ¡lise semÃ¢ntica da geraÃ§Ã£o de cÃ³digo de mÃ¡quina final. |

### CÃ³digo de TrÃªs EndereÃ§os (TAC)

Cada instruÃ§Ã£o TAC contÃ©m **no mÃ¡ximo trÃªs operandos**: dois operandos de entrada e um de saÃ­da. ExpressÃµes complexas sÃ£o quebradas em instruÃ§Ãµes simples usando variÃ¡veis temporÃ¡rias.

**Formato Geral:**
`resultado = operando1 operador operando2`

**Exemplo:**
```pascal
// CÃ³digo Mini-Pascal
x := a + b * c;

// CÃ³digo de TrÃªs EndereÃ§os (TAC)
t0 = b * c
t1 = a + t0
x = t1


ğŸ“¦ Artefatos Entregues
### Arquivos Principais

| Arquivo | LocalizaÃ§Ã£o | DescriÃ§Ã£o |
| :--- | :--- | :--- |
| `MiniPascalCodeGenerator.java` | `src/main/java/` | Gerador de cÃ³digo (Visitor) que traduz a AST para TAC. |
| `Instruction.java` | `src/main/java/` | RepresentaÃ§Ã£o de uma instruÃ§Ã£o TAC (result, arg1, op, arg2). |
| `Main.java` | `src/main/java/` | Ponto de entrada com menu interativo atualizado. |
| `README_ENTREGA4.md` | Raiz do projeto | Este documento de documentaÃ§Ã£o. |

### Arquivos Gerados (EvidÃªncias)

| Arquivo | LocalizaÃ§Ã£o | DescriÃ§Ã£o |
| :--- | :--- | :--- |
| `teste1_output.tac` | `test-reports/tac-output/` | CÃ³digo TAC gerado para expressÃµes aritmÃ©ticas. |
| `teste2_output.tac` | `test-reports/tac-output/` | CÃ³digo TAC gerado para estruturas If-Else. |
| `teste3_output.tac` | `test-reports/tac-output/` | CÃ³digo TAC gerado para laÃ§os While. |

ğŸ”§ CÃ³digo de TrÃªs EndereÃ§os
### Tipos de InstruÃ§Ãµes TAC Suportadas

| Tipo | Formato | Exemplo | DescriÃ§Ã£o |
| :--- | :--- | :--- | :--- |
| **AtribuiÃ§Ã£o BinÃ¡ria** | `x = y op z` | `t1 = a + b` | OperaÃ§Ãµes aritmÃ©ticas, lÃ³gicas e relacionais. |
| **AtribuiÃ§Ã£o UnÃ¡ria** | `x = op y` | `t1 = not a` | Operadores `NOT`, `+` e `-` unÃ¡rios. |
| **CÃ³pia (Simples)** | `x = y` | `x = t1` | AtribuiÃ§Ã£o direta de valor ou variÃ¡vel. |
| **Salto Incondicional** | `goto L` | `goto L1` | Desvio direto para um rÃ³tulo. |
| **Salto Condicional** | `if x goto L` | `if t0 goto L2` | Pula para o rÃ³tulo se a condiÃ§Ã£o for verdadeira. |
| **RÃ³tulo (Label)** | `L:` | `L1:` | Marcador de posiÃ§Ã£o para saltos. |
| **Entrada (Read)** | `read x` | `read idade` | Leitura de dados do usuÃ¡rio. |
| **SaÃ­da (Print)** | `print x` | `print t1` | Escrita de dados na tela. |


ğŸ› ï¸ Gerador de CÃ³digo Implementado
Estrutura do Gerador

Arquivo: src/main/java/MiniPascalCodeGenerator.java

O gerador utiliza o Visitor Pattern para percorrer a AST. Para cada nÃ³ da Ã¡rvore, ele emite uma ou mais instruÃ§Ãµes TAC.

TemporÃ¡rias: Geradas automaticamente como t0, t1, t2... atravÃ©s do mÃ©todo newTemp().
RÃ³tulos: Gerados como L0, L1, L2... atravÃ©s do mÃ©todo newLabel(), essenciais para IF, WHILE e FOR.

Codigo do Gerador
=
=
=
=
=
=
=
=
=
=
=
=

ğŸš€ Como Executar

Passo 1: Compilar o Projeto
mvn clean compile

Passo 2: Executar o Menu Interativo
mvn exec:java
ou
java -cp target/classes Main

Passo 3: Gerar CÃ³digo IntermediÃ¡rio (Demo)
No menu principal, selecione a OpÃ§Ã£o 8:

ESCOLHA UMA OPÃ‡ÃƒO:
...
7 - Demo SemÃ¢ntica (tabela de sÃ­mbolos + escopos)
8 - Entrega 4: GeraÃ§Ã£o de CÃ³digo IntermediÃ¡rio (C3E)
9 - Ver localizaÃ§Ã£o dos relatÃ³rios de testes
0 - Sair

OpÃ§Ã£o: 8

SaÃ­da Esperada (Exemplo):

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   DEMO GERAÃ‡ÃƒO DE CÃ“DIGO INTERMEDIÃRIO (C3E)           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EXECUTANDO TESTE 1:
CÃ³digo de entrada:
program Exemplo;
var x, y: integer;
begin
  x := 10 + 5 * 2;
  print(x);
end.

CÃ³digo IntermediÃ¡rio Gerado:
t0 = 5 * 2
t1 = 10 + t0
x = t1
print x

âœ… GeraÃ§Ã£o concluÃ­da com sucesso!
ğŸ“„ Arquivos salvos em: test-reports/tac-output/

ğŸ“‚ RelatÃ³rios Gerados
LocalizaÃ§Ã£o dos Arquivos

test-reports/
â”œâ”€â”€ tac-output/                     # CÃ³digo TAC gerado
    â”œâ”€â”€ teste1_output.tac
    â”œâ”€â”€ teste2_output.tac
    â””â”€â”€ teste3_output.tac

Exemplo de Arquivo TAC
Arquivo: test-reports/tac-output/teste2_output.tac

x := 5
y := 10
t0 := x + 5
t1 := y - 2
t2 := t0 * t1
resultado := t2
L0:
t3 := resultado < 100
if t3 FALSE  goto L1
t4 := resultado + 1
resultado := t4
goto L0
L1:

ğŸ§ª Testes Implementados

| Teste | DescriÃ§Ã£o | Status |
| :--- | :--- | :--- |
| `testAtribuicao` | Valida TAC para x := 10. | âœ… Passou |
| `testExpressoes` | Valida precedÃªncia em a + b * c. | âœ… Passou |
| `testIfElse` | Valida saltos if e goto em condicionais. | âœ… Passou |
| `testWhile` | Valida estrutura de repetiÃ§Ã£o com rÃ³tulos. | âœ… Passou |
| `testFor` | Valida laÃ§os to e downto. | âœ… Passou |
| `testIO` | Valida instruÃ§Ãµes read e print. | âœ… Passou |


ğŸ“Š Resumo da Entrega

| Item | Status |
| :--- | :--- |
| Gerador TAC Implementado | âœ… Completo |
| Suporte a Estruturas de Controle | âœ… IF, WHILE, FOR |
| Gerenciamento de TemporÃ¡rias | âœ… Implementado |
| Gerenciador de RÃ³tulos | âœ… Implementado |
| RelatÃ³rios em Arquivo | âœ… Gerados em .tac |
| DocumentaÃ§Ã£o | âœ… Completa |


ğŸ“š ReferÃªncias
Dragon Book: Compilers: Principles, Techniques, and Tools (Aho, Sethi, Ullman) - CapÃ­tulo 6 (Intermediate-Code Generation)
Engineering a Compiler: Keith Cooper & Linda Torczon - CapÃ­tulo 5 (Intermediate Representations)
Modern Compiler Implementation in Java: Andrew W. Appel - CapÃ­tulo 7 (Translation to Intermediate Code)


## ğŸ“ HistÃ³rico de VersÃµes

| VersÃ£o | Data | DescriÃ§Ã£o | Autor |
|--------|------|-----------|-------|
| 1.0 | 04/02/2026 | VersÃ£o inicial da entrega 4 | Equipe Mini-Pascal |


ğŸ‘¥ Autores
Enaldo Dantas  - jose.santos259@academico.ifs.edu.br
Agnaldo Neto   - jose.neto044@academico.ifs.edu.br
Vitorio Mota   - vitorio.mota085@academico.ifs.edu.br
Lucas Oliveira - lucas.oliveira031@academico.ifs.edu.br


ğŸ“ ContatoPara dÃºvidas sobre esta entrega:
Email: jeds@outlook.com.br
GitHub: https://github.com/jeds2025

Entrega 4 concluÃ­da com sucesso! âœ…
Desenvolvido para IFS Campus Itabaiana - 2025.2
Disciplina: LINGUAGENS FORMAIS, AUTÃ”MATOS E COMPILADORES



